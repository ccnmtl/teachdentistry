{% extends 'base_teachdentistry.html' %}
{% load render %}

{% block js %}
    <script src="/site_media/js/json2.js" type="text/javascript" ></script>
    <script src="/site_media/js/underscore-min.js" type="text/javascript" ></script>
    <script src="/site_media/js/backbone-min.js" type="text/javascript" ></script>
    <script src="/site_media/js/backbone-tastypie.js" type="text/javascript" ></script>

    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key={{settings.GOOGLE_API_KEY}}&sensor=false">
    </script>
    <script type="text/javascript" src="/site_media/js/app/map.js"></script>
    
    <script type="text/template" id="educator-template">
        <div class="educator-name"><%= name %></div>
        <% if (bio_summary !== null) { %>
            <div class="educator-bio-summary"><%= bio_summary %></div>
        <% } %>
        
            <div class="educator-headshot">
                <% if (headshot !== null) { %>
                <img src="<%= headshot %>" alt="headshot" />
                <% } %>
                <% if (headshot == null) { %>
                <img src="<% if (gender == 'M') { %>/site_media/img/headshot_male.jpg<%}else{%>/site_media/img/headshot_female.jpg<% } %>" alt="headshot" />
                <% } %>
            </div>
        
        
        <a href="/profile/<%=id%>/">Link To Profile</a>        
    </script>
    
    <script type="text/template" id="breadcrumbs-template">
        <% for (var i=0; i < criteria.length; i++;) { %>
            <li><a href="#"><%=c.value%><input type="hidden" value="<%=c.id%>" name="<%=c.name%>"/></a></li>
        <% } %>
    </script>
    
    {% if accessible %}
        <script type="text/javascript">        
            jQuery(document).ready(function() {
                var view = new EducatorMapView({el: "#map-container"}); 
            });
        </script>
    {% endif %}
{% endblock %}

{% block css %}
{% endblock %}

{% block module_slug %}{% endblock %}

{% block title %}Interactive Map{% endblock %}

{% block pagetitle %}<h2 class="pagetitle">Interactive Map</h2>{% endblock %}

{% block navrightextra %}
{% endblock %}

{% block breadcrumbs %}
{% endblock breadcrumbs %}

{% block carousel_slideshow %}{% endblock %}

{% block container %}    
    <div id="map-container" class="map-container">
        <div class="search">
            <h3>Filter Educators</h3>
            
            <ul class="breadcrumb">
              
            </ul>
                        
            <div class="accordion" id="accordion">           
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                            <i class="icon-plus-sign pull-right"></i>Career Stage
                        </a>
                    </div>
                    <div id="collapseTwo" class="accordion-body collapse">
                        {% for s in career_stages %}
                        <div class="accordion-inner">
                            <input class="search_criteria" type="checkbox" name="career_stage" value="{{s.0}}" /> <span class="choice">{{s.1}}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>            
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
                            <i class="icon-plus-sign pull-right"></i>Teaching Responsiblities
                        </a>
                    </div>
                    <div id="collapseThree" class="accordion-body collapse">
                        {% for r in teaching_responsibilities %}
                        <div class="accordion-inner">
                            <input class="search_criteria" type="checkbox" name="career_stage" value="{{r.id}}" /> <span class="choice">{{r.name}}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                            <i class="icon-plus-sign pull-right"></i>Gender
                        </a>
                    </div>
                    <div id="collapseOne" class="accordion-body collapse">
                        <div class="accordion-inner">
                            <input class="search_criteria" type="radio" name="gender" value="F" /> <span class="choice">Female</span>
                        </div>
                        <div class="accordion-inner">
                            <input class="search_criteria" type="radio" name="gender" value="M" /> <span class="choice">Male</span>
                        </div>
                    </div>
                </div>
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseFour">
                            <i class="icon-plus-sign pull-right"></i>Paid Time Commitments
                        </a>
                    </div>
                    <div id="collapseFour" class="accordion-body collapse">
                        {% for t in paid_time_commitments %}
                        <div class="accordion-inner">
                            <input class="search_criteria" type="checkbox" name="career_stage" value="{{t.id}}" /> <span class="choice">{{t.duration}}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseFive">
                            <i class="icon-plus-sign pull-right"></i>Volunteer Time Commitments
                        </a>
                    </div>
                    <div id="collapseFive" class="accordion-body collapse">
                        {% for t in volunteer_time_commitments %}
                        <div class="accordion-inner">
                            <input class="search_criteria" type="checkbox" name="career_stage" value="{{t.id}}" /> <span class="choice">{{t.duration}}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        <div class="map">
             <div id="map-canvas" class="google-maps"></div>
        </div>
    </div>
{% endblock %}

